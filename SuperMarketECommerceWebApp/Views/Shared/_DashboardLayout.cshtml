<!DOCTYPE html>

<html>

<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Dashboard</title>

    <!-- GOOGLE FONTS -->
    <link href="https://fonts.googleapis.com/css?family=Montserrat:400,500|Poppins:400,500,600,700|Roboto:400,500"
          rel="stylesheet" />
    <link href="https://cdn.materialdesignicons.com/3.0.39/css/materialdesignicons.min.css" rel="stylesheet" />

    <!-- FONT AWESOME -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">

    <!-- SLEEK CSS -->
    <link id="sleek-css" rel="stylesheet" href="~/admin/css/sleek.css" />

</head>


<body class="sidebar-fixed sidebar-dark header-light header-fixed" id="body">

    <div class="mobile-sticky-body-overlay"></div>

    <div class="wrapper">

        <aside class="left-sidebar bg-sidebar">
            <div id="sidebar" class="sidebar sidebar-with-footer">
                <div class="app-brand">
                    <a href="/">
                        <span class="brand-name">YourSuperMarket</span>
                    </a>
                </div>

                <div class="sidebar-scrollbar">

                    <ul class="nav sidebar-inner" id="sidebar-menu">

                        <li class="has-sub active expand">

                            <a class="sidenav-item-link" href="javascript:void(0)" data-toggle="collapse" data-target="#orders" aria-expanded="false" aria-controls="orders">
                                <i class="fa fa-cart-plus"></i>
                                <span class="nav-text">Orders</span> <b class="caret"></b>
                            </a>

                            <ul class="collapse show" id="orders" data-parent="#sidebar-menu">
                                <div class="sub-menu">

                                    <li class="active">
                                        <a class="sidenav-item-link" href="/Orders">
                                            <span class="nav-text">View | Edit | Delete</span>
                                        </a>
                                    </li>

                                    <li>
                                        <a class="sidenav-item-link" href="/Orders/Create">
                                            <span class="nav-text">Create</span>
                                        </a>
                                    </li>

                                </div>
                            </ul>
                        </li>

                        <li class="has-sub">

                            <a class="sidenav-item-link" href="javascript:void(0)" data-toggle="collapse" data-target="#category" aria-expanded="false" aria-controls="category">
                                <i class="mdi mdi-view-dashboard-outline"></i>
                                <span class="nav-text">Category</span> <b class="caret"></b>
                            </a>

                            <ul class="collapse show" id="category" data-parent="#sidebar-menu">
                                <div class="sub-menu">

                                    <li class="active">
                                        <a class="sidenav-item-link" href="/ProductCatagories">
                                            <span class="nav-text">
                                                View
                                                @foreach (var claim in User.Claims)
                                                {
                                                    @if (@claim.Type == "role" && @claim.Value == "Admin")
                                                    {
                                                        <span>| Edit | Delete </span>
                                                    }
                                                }
                                            </span>
                                        </a>
                                    </li>

                                    @foreach (var claim in User.Claims)
                                    {
                                        @if (@claim.Type == "role" && @claim.Value == "Admin")
                                        {
                                            <li>
                                                <a class="sidenav-item-link" href="/ProductCatagories/Create">
                                                    <span class="nav-text">Create</span>
                                                </a>
                                            </li>
                                        }
                                    }

                                </div>
                            </ul>
                        </li>

                        <li class="has-sub">

                            <a class="sidenav-item-link" href="javascript:void(0)" data-toggle="collapse" data-target="#product" aria-expanded="false" aria-controls="product">
                                <i class="fa fa-product-hunt"></i>
                                <span class="nav-text">Product</span> <b class="caret"></b>
                            </a>

                            <ul class="collapse show" id="product" data-parent="#sidebar-menu">
                                <div class="sub-menu">

                                    <li class="active">
                                        <a class="sidenav-item-link" href="/Products">
                                            <span class="nav-text">
                                                View
                                                @foreach (var claim in User.Claims)
                                                {
                                                    @if (@claim.Type == "role" && @claim.Value == "Admin")
                                                    {
                                                <span>| Edit | Delete </span>
                                                     }
                                                }
                                            </span>
                                        </a>
                                    </li>

                                    @foreach (var claim in User.Claims)
                                    {
                                        @if (@claim.Type == "role" && @claim.Value == "Admin")
                                        {
                                            <li>
                                                <a class="sidenav-item-link" href="/Products/create">
                                                    <span class="nav-text">Create</span>
                                                </a>
                                            </li>
                                        }
                                    }

                                </div>
                            </ul>
                        </li>

                        @foreach (var claim in User.Claims)
                        {
                            @if (@claim.Type == "role" && @claim.Value == "Admin")
                            {
                                <li class="has-sub">

                                    <a class="sidenav-item-link" href="javascript:void(0)" data-toggle="collapse" data-target="#accounts" aria-expanded="false" aria-controls="accounts">
                                        <i class="fa fa-users"></i>
                                        <span class="nav-text">Users</span> <b class="caret"></b>
                                    </a>

                                    <ul class="collapse show" id="accounts" data-parent="#sidebar-menu">
                                        <div class="sub-menu">

                                            <li class="active">
                                                <a class="sidenav-item-link" href="/Users">
                                                    <span class="nav-text">View | Edit | Delete</span>
                                                </a>
                                            </li>

                                            <li>
                                                <a class="sidenav-item-link" href="/Users/Create">
                                                    <span class="nav-text">Create</span>
                                                </a>
                                            </li>

                                        </div>
                                    </ul>
                                </li>
                            }
                        }

                    </ul>

                </div>

            </div>
        </aside>

        <div class="page-wrapper">

            <header class="main-header " id="header">
                <nav class="navbar navbar-static-top navbar-expand-lg">

                    <button id="sidebar-toggler" class="sidebar-toggle">
                        <span class="sr-only">Toggle navigation</span>
                    </button>

                    <div class="search-form d-lg-inline-block"></div>

                    <div class="navbar-right ">
                        <ul class="nav navbar-nav">

                            <li class="dropdown user-menu">
                                <button href="#" class="dropdown-toggle nav-link" data-toggle="dropdown">
                                    <img src="~/admin/img/user/user.jpg" class="user-image" alt="User Image" />
                                    @foreach (var claim in User.Claims) {
                                        @if (@claim.Type == "user") { 
                                            <span class="d-none d-lg-inline-block">@claim.Value</span>
                                        }
                                    }
                                </button>
                                <ul class="dropdown-menu dropdown-menu-right">

                                    <li class="dropdown-header">
                                        <img src="~/admin/img/user/user.jpg" class="img-circle" alt="User Image" />
                                        <div class="d-inline-block">
                                            @foreach (var claim in User.Claims)
                                            {
                                                @if (@claim.Type == "user")
                                                {
                                                    @claim.Value<small class="pt-1">@ViewBag.email</small>
                                                }
                                            }

                                        </div>
                                    </li>

                                    <li>
                                        <a asp-controller="Users" asp-action="Details" asp-route-id="@ViewBag.id">
                                            <i class="mdi mdi-account"></i> My Profile
                                        </a>
                                    </li>
                                    
                                    <li>
                                        <a asp-controller="Users" asp-action="Edit" asp-route-id="@ViewBag.id"> <i class="mdi mdi-settings"></i> Account Setting </a>
                                    </li>

                                    <li class="dropdown-footer">
                                        <a href="/account/Logout"> <i class="mdi mdi-logout"></i> Log Out </a>
                                    </li>

                                </ul>
                            </li>
                        </ul>
                    </div>
                </nav>

            </header>

            @RenderBody()

            <footer class="footer mt-auto">
                <div class="copyright bg-white">
                    <p>
                        &copy; <span id="copy-year">2020</span> Copyright YourSuperMarket
                    </p>
                </div>
            </footer>

        </div>

    </div>

    <script src="~/admin/plugins/jquery/jquery.min.js"></script>
    <script src="~/admin/plugins/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="~/admin/plugins/slimscrollbar/jquery.slimscroll.min.js"></script>
    <script src="~/admin/plugins/charts/Chart.min.js"></script>
    <script src="~/admin/js/sleek.js"></script>
    <script src="~/admin/js/chart.js"></script>

    @RenderSection("Scripts", required: false)

</body>

</html>